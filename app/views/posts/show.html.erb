<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>

<p>
  <strong>Published:</strong>
  <%= @post.created_at %>
</p>

<p>
  <strong>By:</strong>
  <%= @post.by %>
</p>

<p>
  <strong>Body:</strong>
  <%= @post.body %>
</p>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %>

<% if @post.comments.size > 0 %>
<h2>Comments</h2>
  <% for comment in @post.comments %>
    <h3><%= comment.by %></h3>
    <p><%= comment.published_on %></p>
    <p><%= comment.body %></p>
  <% end %>
<% end %>
<% if user_signed_in? %>
  <h2>New Comment</h2>
  <%= form_for [@post, Comment.new] do |f| %>
    <p><%= f.label :by %></p>
    <p><%= f.text_field :by %></p>

    <p><%= f.label :published_on %></p>
    <p><%= f.text_field :published_on %></p>

    <p><%= f.label :body %></p>
    <p><%= f.text_area :body, :rows => 10 %></p>

    <p><%= f.submit %></p>
  <% end %>
<% else %>
  <p>Commenters must be <%= link_to 'logged in', new_user_session_path %> to leave comments.</p>
  <p><%= link_to 'Registration', new_user_registration_path %> for new commenters</p>
<% end %>

